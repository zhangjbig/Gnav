## NiiModelCore
信号rightClickSignal会在右键点击到模型的时候发送，参数是int格式的x,y,z。  
没有专门计算距离的信号，距离在外部用前后点击得到的两个点计算。只计算体素距离（直接用x,y,z算）。  

添加了在右键点击的位置，放一个带位置提示的黄色小球的功能，用NiiModelCore的startSphere()启动，用endSphere()关闭并清除所有刚打上去的小球。如果在主界面也需要这个功能，直接调用或当作槽函数即可.  

## NiiModelWidget  
添加包括两点距离和坐标在内的文字显示。添加右键打小球的功能开关。  

## NiiImageViewer(以及NiiImageCanvas)  
调整不同视角图片旋转、转置操作，现在和主界面的三视图一致了。  
NiiImageCanvas的 paintEvent中实现了配套的、接收3D窗口的x,y,z位置信号并打十字架的坐标处理，可做参考。  
在构建的时候不需要往里面穿MyIcons的实例了，构造函数中，这个参数(myicons)已被删除.  

## 绘画模式  
在NiiImageViewer的菜单栏中添加了画刷选项，点击打开编辑栏进入绘画模式，默认在已有肿瘤划分文件的基础上修改，默认在ED区域开始。三个功能brush, eraser, drag分别画、擦、拖拽。近邻的下拉选择框选择当前正在编辑的区域(ED, NCR, ET)，选择某个区域后另外两个区域将被锁定，此区域不能修改另外两个区域的内容，约束这三个区域无法重叠。后面数字的下拉选择框选择粗细，圆形光标会跟着这个粗细修改大小。框内只有10-30的偶数，但可以手动输入10~99的数，除此以外的输入将无效。  

save按钮执行保存，将当前绘图的修改保存为新的.nii标签文件（但其实此时并没有真的保存出这个文件，只是在内置的3维数组中保存了新的修改）。如果调用NiiImageViewer的没有指定默认保存路径（见初始化函数的savePath），在第一次保存的时候会弹出窗口询问保存路径，如果指定后续将会保存到这个路径，如果仍不指定（点取消或叉掉）会保存至默认路径（./assets/CustomSeg.nii.gz），此后不会再询问。  

finish按钮真正保存文件。如果有进行编辑，就将所有保存了的改动输出为.nii.gz文件到保存路径形成新的肿瘤划分文件。然后关闭绘画栏，退出绘画模式。  

任何有对页面内容的改动（切换三视图、滑动滑动条、试图退出绘画模式等）时，如果有没保存的修改，会弹出对话框询问，可以保存、放弃或取消操作。如果在绘画过程中直接叉掉NiiImageViewer的大窗口，且有未保存改动，仍会询问是否保存，但是No, Cancel按钮都将视作放弃更改。但是最终仍会将已有的Seg信息（若修改过）输出为.nii.gz到保存路径。  

绘画模式中，仍可以正常开启/关闭肿瘤区域显示（这里的肿瘤区域是不带你本次开启绘画模式之后的所有更改的，显示的是这次开启绘画模式之前的肿瘤区域内容）。仍可以切换flair, t1, t1ce, t2模态作为底色。  

关于颜色  
目前绘画模式使用的三个区域对应的颜色是正常肿瘤区域显示的颜色+透明度。在Constant.py的Color中更改。  

关于锯齿  
有必要说明锯齿问题。可能别的软件上画图看起来特别平滑。为什么这个就这么马赛克？一方面别人用的图像的像素比较高，看起来就比较平滑；另一方面别人可能是直接在屏幕上画标记，屏幕像素高，所以看起来也平滑。因为我们的画出的区域最后是要生成新的3维肿瘤标签数据的，所以必须和原始数据对得上，因而是直接在原图上画，原图像素低（240\*240\*155的三维数组），那画完后放大来看也就有很多锯齿了。  